# 🎉 YouTube转录侧边栏 - 完整版

## ✨ 功能特性

- ✅ **自动获取字幕** - 从YouTube页面自动提取字幕
- ✅ **实时高亮** - 播放时自动高亮当前字幕
- ✅ **点击跳转** - 点击字幕跳转到对应时间
- ✅ **一键切换** - 点击扩展图标显示/隐藏侧边栏
- ✅ **无CORS问题** - 使用DOM提取，无需网络请求

## 🚀 安装和使用

### 第一次安装

1. 打开 `chrome://extensions/`
2. 启用"开发者模式"
3. 点击"加载已解压的扩展程序"
4. 选择此文件夹：`/Users/apple/视频侧边栏`

### 更新插件

如果你之前安装过：

1. 打开 `chrome://extensions/`
2. 找到"YouTube 转录侧边栏"
3. 点击"移除"
4. 重新按照上面的步骤安装

## 🎯 使用方法

### 方法1: 自动显示

1. 访问任意YouTube视频
2. 侧边栏会自动出现在右侧
3. 字幕会自动加载

### 方法2: 点击图标切换

1. 点击浏览器工具栏的扩展图标
2. 侧边栏会显示/隐藏
3. 可以随时切换

### 方法3: 手动获取字幕

如果自动获取失败：

1. 点击视频下方的"..."按钮
2. 选择"显示文字记录"
3. 字幕会被自动提取到侧边栏

## 💡 功能说明

### 字幕显示
- 每条字幕都有时间戳
- 当前播放的字幕会高亮显示（蓝色背景）
- 自动滚动跟随播放进度

### 交互功能
- **点击字幕** → 视频跳转到对应时间
- **点击"收起"** → 隐藏侧边栏
- **点击扩展图标** → 显示/隐藏侧边栏

## 🔧 技术实现

- **DOM提取** - 模拟用户点击transcript按钮
- **Background Worker** - 处理扩展图标点击
- **消息传递** - Background与Content Script通信
- **实时同步** - 100ms间隔检测播放位置

## 📝 注意事项

1. **需要视频有字幕** - 没有字幕的视频无法显示
2. **首次加载** - 可能需要2-3秒加载时间
3. **YouTube限制** - 部分视频可能因版权限制无字幕

## ❓ 常见问题

### Q: 侧边栏没有出现？
**A**: 
- 确保在YouTube视频页面（URL包含/watch）
- 刷新页面重试
- 点击扩展图标手动显示

### Q: 字幕加载失败？
**A**:
- 检查视频是否有字幕（点击CC按钮）
- 按照提示手动点击"显示文字记录"
- 刷新页面重试

### Q: 如何隐藏侧边栏？
**A**:
- 点击侧边栏右上角的"收起"按钮
- 或点击浏览器工具栏的扩展图标

## 🎨 界面说明

- **深色主题** - 与YouTube风格一致
- **400px宽度** - 不影响视频观看
- **固定位置** - 始终在右侧
- **平滑动画** - 显示/隐藏有过渡效果

## 📦 文件结构

```
视频侧边栏/
├── manifest.json          # 扩展配置
├── background.js          # 后台脚本（处理图标点击）
├── content-dom.js         # 内容脚本（主要功能）
├── sidebar.css            # 侧边栏样式
├── icon.png              # 扩展图标
└── popup.html            # 弹出页面（已移除）
```

## 🎉 完成！

现在你可以：
1. 点击扩展图标显示/隐藏侧边栏
2. 自动获取并显示YouTube字幕
3. 点击字幕跳转到对应时间
4. 享受流畅的观看体验！

---

**祝你使用愉快！** 🚀