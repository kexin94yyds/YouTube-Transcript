<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>è¯Šæ–­æŠ¥å‘Š</title>
    <style>
        body {
            font-family: -apple-system, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        .check {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #ccc;
        }
        .check.success {
            border-left-color: #00aa00;
        }
        .check.error {
            border-left-color: #ff0000;
        }
        .check h3 {
            margin: 0 0 10px 0;
        }
        .code {
            background: #f0f0f0;
            padding: 10px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 12px;
            white-space: pre-wrap;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>ğŸ” æ‰‹åŠ¿å¯¼èˆªè¯Šæ–­æŠ¥å‘Š</h1>
    <div id="results"></div>

    <script>
        const results = document.getElementById('results');
        
        function addCheck(title, isSuccess, details) {
            const div = document.createElement('div');
            div.className = `check ${isSuccess ? 'success' : 'error'}`;
            div.innerHTML = `
                <h3>${isSuccess ? 'âœ…' : 'âŒ'} ${title}</h3>
                <div class="code">${details}</div>
            `;
            results.appendChild(div);
        }
        
        // æ£€æŸ¥ 1: å½“å‰URL
        addCheck(
            'å½“å‰é¡µé¢URL',
            true,
            window.location.href
        );
        
        // æ£€æŸ¥ 2: BooksGestureNavigation ç±»æ˜¯å¦å­˜åœ¨
        const hasClass = typeof window.BooksGestureNavigation !== 'undefined';
        addCheck(
            'BooksGestureNavigation ç±»',
            hasClass,
            hasClass ? 'class BooksGestureNavigation { ... } å·²åŠ è½½' : 'undefined - æœªåŠ è½½ï¼'
        );
        
        // æ£€æŸ¥ 3: å°è¯•åŠ è½½è„šæœ¬
        const scriptTest = document.querySelector('script[src*="books-gesture"]');
        addCheck(
            'è„šæœ¬æ ‡ç­¾',
            scriptTest !== null,
            scriptTest ? `æ‰¾åˆ°: ${scriptTest.src}` : 'æœªæ‰¾åˆ° books-gesture-navigation.js å¼•ç”¨'
        );
        
        // æ£€æŸ¥ 4: Wheel äº‹ä»¶ç›‘å¬
        let wheelWorks = false;
        document.addEventListener('wheel', (e) => {
            wheelWorks = true;
            addCheck(
                'Wheel äº‹ä»¶è§¦å‘',
                true,
                `deltaX: ${e.deltaX}, deltaY: ${e.deltaY}`
            );
        }, { once: true });
        
        setTimeout(() => {
            if (!wheelWorks) {
                addCheck(
                    'Wheel äº‹ä»¶æµ‹è¯•',
                    false,
                    'è¯·åœ¨é¡µé¢ä¸Šæ»‘åŠ¨è§¦æ§æ¿ä»¥è§¦å‘æ­¤æ£€æŸ¥'
                );
            }
        }, 3000);
        
        // æ£€æŸ¥ 5: æµè§ˆå™¨ä¿¡æ¯
        addCheck(
            'æµè§ˆå™¨ä¿¡æ¯',
            true,
            navigator.userAgent
        );
        
        console.log('è¯Šæ–­é¡µé¢å·²åŠ è½½');
    </script>
</body>
</html>
