<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç§é’¥ç®¡ç†ç³»ç»Ÿ</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        /* å…è®¸æ–‡æœ¬é€‰ä¸­/å¤åˆ¶ */
        html, body, * {
            -webkit-user-select: text !important;
            -moz-user-select: text !important;
            -ms-user-select: text !important;
            user-select: text !important;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }
        
        .key-groups {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .key-group {
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 20px;
            background: #fafafa;
        }
        
        .group-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .group-title {
            font-size: 1.2em;
            font-weight: bold;
            color: #333;
        }
        
        .group-count {
            background: #007acc;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8em;
        }
        
        .key-list {
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid #eee;
            border-radius: 5px;
            padding: 10px;
            background: white;
        }
        
        .key-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .key-item:last-child {
            border-bottom: none;
        }
        
        .key-name {
            font-family: monospace;
            color: #666;
        }
        
        .key-actions {
            display: flex;
            gap: 10px;
        }
        
        .btn {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8em;
            transition: all 0.2s;
        }
        
        .btn-copy {
            background: #28a745;
            color: white;
        }
        
        .btn-copy:hover {
            background: #218838;
        }
        
        .btn-download {
            background: #007bff;
            color: white;
        }
        
        .btn-download:hover {
            background: #0056b3;
        }
        
        .btn-view {
            background: #ffc107;
            color: #212529;
        }
        
        .btn-view:hover {
            background: #e0a800;
        }
        
        .tools {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }
        
        .tools h3 {
            margin-top: 0;
            color: #333;
        }
        
        .tool-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .btn-tool {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.2s;
        }
        
        .btn-generate {
            background: #17a2b8;
            color: white;
        }
        
        .btn-generate:hover {
            background: #138496;
        }
        
        .btn-package {
            background: #6f42c1;
            color: white;
        }
        
        .btn-package:hover {
            background: #5a32a3;
        }
        
        .btn-export {
            background: #fd7e14;
            color: white;
        }
        
        .btn-export:hover {
            background: #e8681b;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
        }
        
        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 10px;
            max-width: 600px;
            width: 90%;
            max-height: 80%;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .close {
            font-size: 24px;
            cursor: pointer;
            color: #999;
        }
        
        .close:hover {
            color: #333;
        }
        
        .key-content {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 15px;
            font-family: monospace;
            font-size: 0.9em;
            white-space: pre-wrap;
            word-break: break-all;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .copy-success {
            background: #d4edda;
            color: #155724;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
            display: none;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .stats {
                grid-template-columns: 1fr;
            }
            
            .key-groups {
                grid-template-columns: 1fr;
            }
            
            .tool-buttons {
                flex-direction: column;
            }
            
            .btn-tool {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”‘ ç§é’¥ç®¡ç†ç³»ç»Ÿ</h1>
        
        <div class="stats">
            <div class="stat-card">
                <div class="stat-number" id="total-keys">170</div>
                <div class="stat-label">æ€»ç§é’¥æ•°é‡</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="premium-count">20</div>
                <div class="stat-label">é«˜çº§ç”¨æˆ·ç§é’¥</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="standard-count">50</div>
                <div class="stat-label">æ ‡å‡†ç”¨æˆ·ç§é’¥</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="trial-count">100</div>
                <div class="stat-label">è¯•ç”¨ç”¨æˆ·ç§é’¥</div>
            </div>
        </div>
        
        <div class="key-groups">
            <div class="key-group">
                <div class="group-header">
                    <div class="group-title">ğŸŒŸ é«˜çº§ç”¨æˆ·ç»„</div>
                    <div class="group-count">20 ä¸ªå¯†é’¥</div>
                </div>
                <div class="key-list" id="premium-keys">
                    <!-- åŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
            
            <div class="key-group">
                <div class="group-header">
                    <div class="group-title">ğŸ“š æ ‡å‡†ç”¨æˆ·ç»„</div>
                    <div class="group-count">50 ä¸ªå¯†é’¥</div>
                </div>
                <div class="key-list" id="standard-keys">
                    <!-- åŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
            
            <div class="key-group">
                <div class="group-header">
                    <div class="group-title">ğŸ” è¯•ç”¨ç”¨æˆ·ç»„</div>
                    <div class="group-count">100 ä¸ªå¯†é’¥</div>
                </div>
                <div class="key-list" id="trial-keys">
                    <!-- åŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
        </div>
        
        <div class="tools">
            <h3>ğŸ› ï¸ ç®¡ç†å·¥å…·</h3>
            <div class="tool-buttons">
                <button class="btn-tool btn-generate" onclick="generateMoreKeys()">
                    ç”Ÿæˆæ›´å¤šå¯†é’¥
                </button>
                <button class="btn-tool btn-package" onclick="createDistributionPackage()">
                    åˆ›å»ºåˆ†å‘åŒ…
                </button>
                <button class="btn-tool btn-export" onclick="exportAllKeys()">
                    å¯¼å‡ºæ‰€æœ‰å¯†é’¥
                </button>
                <button class="btn-tool btn-generate" onclick="window.open('https://tobooks.netlify.app', '_blank')">
                    æµ‹è¯•è®¤è¯ç³»ç»Ÿ
                </button>
            </div>
        </div>
    </div>
    
    <!-- å¯†é’¥æŸ¥çœ‹æ¨¡æ€æ¡† -->
    <div id="key-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">ç§é’¥å†…å®¹</h3>
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            <div class="key-content" id="key-content"></div>
            <div class="copy-success" id="copy-success">âœ… å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼</div>
            <div style="margin-top: 20px; text-align: center;">
                <button class="btn btn-copy" onclick="copyKeyContent()">å¤åˆ¶ç§é’¥</button>
                <button class="btn btn-download" onclick="downloadKey()">ä¸‹è½½æ–‡ä»¶</button>
            </div>
        </div>
    </div>
    
    <script>
        (function enableCopyAndContextMenu(){
            const events = ['copy','cut','paste','contextmenu','selectstart','dragstart'];
            events.forEach(function(evt){
                document.addEventListener(evt, function(e){
                    e.stopImmediatePropagation();
                }, true);
            });
            document.addEventListener('DOMContentLoaded', function(){
                const all = document.getElementsByTagName('*');
                for (var i = 0; i < all.length; i++) {
                    all[i].oncopy = all[i].oncut = all[i].onpaste = all[i].oncontextmenu = all[i].onselectstart = all[i].ondragstart = null;
                }
            });
        })();

        // æ¨¡æ‹Ÿå¯†é’¥æ•°æ®ï¼ˆå®é™…é¡¹ç›®ä¸­åº”è¯¥ä»æœåŠ¡å™¨è·å–ï¼‰
        const keyGroups = {
            premium: Array.from({length: 20}, (_, i) => ({
                id: `premium_${i + 1}`,
                name: `private_${i + 1}.pem`,
                group: 'premium_users'
            })),
            standard: Array.from({length: 50}, (_, i) => ({
                id: `standard_${i + 1}`,
                name: `private_${i + 1}.pem`,
                group: 'standard_users'
            })),
            trial: Array.from({length: 100}, (_, i) => ({
                id: `trial_${i + 1}`,
                name: `private_${i + 1}.pem`,
                group: 'trial_users'
            }))
        };
        
        let currentKeyData = null;
        
        // åˆå§‹åŒ–é¡µé¢
        function initializePage() {
            renderKeyList('premium-keys', keyGroups.premium);
            renderKeyList('standard-keys', keyGroups.standard);
            renderKeyList('trial-keys', keyGroups.trial);
        }
        
        // æ¸²æŸ“å¯†é’¥åˆ—è¡¨
        function renderKeyList(containerId, keys) {
            const container = document.getElementById(containerId);
            container.innerHTML = keys.map(key => `
                <div class="key-item">
                    <span class="key-name">${key.name}</span>
                    <div class="key-actions">
                        <button class="btn btn-view" onclick="viewKey('${key.id}', '${key.name}', '${key.group}')">
                            æŸ¥çœ‹
                        </button>
                        <button class="btn btn-copy" onclick="quickCopy('${key.id}', '${key.group}')">
                            å¤åˆ¶
                        </button>
                        <button class="btn btn-download" onclick="downloadKey('${key.id}', '${key.name}', '${key.group}')">
                            ä¸‹è½½
                        </button>
                    </div>
                </div>
            `).join('');
        }
        
        // æŸ¥çœ‹å¯†é’¥
        async function viewKey(keyId, keyName, group) {
            try {
                // è¿™é‡Œåº”è¯¥ä»æœåŠ¡å™¨è·å–å®é™…çš„ç§é’¥å†…å®¹
                // ä¸ºäº†æ¼”ç¤ºï¼Œæˆ‘ä»¬ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®
                const keyContent = await getKeyContent(keyId, group);
                
                document.getElementById('modal-title').textContent = `ç§é’¥: ${keyName}`;
                document.getElementById('key-content').textContent = keyContent;
                document.getElementById('key-modal').style.display = 'block';
                
                currentKeyData = {
                    id: keyId,
                    name: keyName,
                    content: keyContent,
                    group: group
                };
            } catch (error) {
                alert('è·å–ç§é’¥å¤±è´¥: ' + error.message);
            }
        }
        
        // è·å–å¯†é’¥å†…å®¹ï¼ˆæ¨¡æ‹Ÿï¼‰
        async function getKeyContent(keyId, group) {
            // æ¨¡æ‹Ÿç§é’¥å†…å®¹ï¼ˆé¿å…ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²ä»¥å…¼å®¹ä¸¥æ ¼è§£æå™¨ï¼‰
            return [
                '-----BEGIN RSA PRIVATE KEY-----',
                'MIIEpAIBAAKCAQEA1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKL',
                'MNOPQRSTUVWXYZ1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKL',
                'MNOPQRSTUVWXYZ1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKL',
                '... (è¿™æ˜¯ ' + group + ' ç»„çš„ ' + keyId + ' ç§é’¥) ...',
                '-----END RSA PRIVATE KEY-----'
            ].join('\\n');
        }
        
        // å¿«é€Ÿå¤åˆ¶
        async function quickCopy(keyId, group) {
            try {
                const keyContent = await getKeyContent(keyId, group);
                await navigator.clipboard.writeText(keyContent);
                
                // æ˜¾ç¤ºæˆåŠŸæç¤º
                const btn = event.target;
                const originalText = btn.textContent;
                btn.textContent = 'å·²å¤åˆ¶!';
                btn.style.background = '#28a745';
                
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = '#28a745';
                }, 2000);
            } catch (error) {
                alert('å¤åˆ¶å¤±è´¥: ' + error.message);
            }
        }
        
        // å¤åˆ¶æ¨¡æ€æ¡†ä¸­çš„å¯†é’¥
        async function copyKeyContent() {
            if (!currentKeyData) return;
            
            try {
                await navigator.clipboard.writeText(currentKeyData.content);
                document.getElementById('copy-success').style.display = 'block';
                setTimeout(() => {
                    document.getElementById('copy-success').style.display = 'none';
                }, 3000);
            } catch (error) {
                alert('å¤åˆ¶å¤±è´¥: ' + error.message);
            }
        }
        
        // ä¸‹è½½å¯†é’¥æ–‡ä»¶
        function downloadKey(keyId, keyName, group) {
            if (arguments.length === 0 && currentKeyData) {
                // ä»æ¨¡æ€æ¡†ä¸‹è½½
                keyId = currentKeyData.id;
                keyName = currentKeyData.name;
                group = currentKeyData.group;
            }
            
            getKeyContent(keyId, group).then(content => {
                const blob = new Blob([content], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = keyName || (keyId + '.pem');
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            });
        }
        
        // å…³é—­æ¨¡æ€æ¡†
        function closeModal() {
            document.getElementById('key-modal').style.display = 'none';
            currentKeyData = null;
        }
        
        // ç”Ÿæˆæ›´å¤šå¯†é’¥
        function generateMoreKeys() {
            const count = prompt('è¯·è¾“å…¥è¦ç”Ÿæˆçš„å¯†é’¥æ•°é‡:', '10');
            if (count && !isNaN(count) && count > 0) {
                alert('å°†ç”Ÿæˆ ' + count + ' ä¸ªæ–°å¯†é’¥ï¼ˆå®é™…é¡¹ç›®ä¸­ä¼šè°ƒç”¨åç«¯APIï¼‰');
                // è¿™é‡Œåº”è¯¥è°ƒç”¨åç«¯APIç”Ÿæˆæ–°å¯†é’¥
            }
        }
        
        // åˆ›å»ºåˆ†å‘åŒ…
        function createDistributionPackage() {
            alert('æ­£åœ¨åˆ›å»ºåˆ†å‘åŒ…...ï¼ˆå®é™…é¡¹ç›®ä¸­ä¼šæ‰“åŒ…ä¸‹è½½ï¼‰');
            // è¿™é‡Œåº”è¯¥è°ƒç”¨åç«¯APIåˆ›å»ºåˆ†å‘åŒ…
        }
        
        // å¯¼å‡ºæ‰€æœ‰å¯†é’¥
        function exportAllKeys() {
            const format = confirm('é€‰æ‹©å¯¼å‡ºæ ¼å¼:\\nç¡®å®š = JSON\\nå–æ¶ˆ = ZIP') ? 'json' : 'zip';
            alert('å°†å¯¼å‡ºä¸º ' + format.toUpperCase() + ' æ ¼å¼ï¼ˆå®é™…é¡¹ç›®ä¸­ä¼šç”Ÿæˆä¸‹è½½ï¼‰');
            // è¿™é‡Œåº”è¯¥è°ƒç”¨åç«¯APIå¯¼å‡ºå¯†é’¥
        }
        
        // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
        window.onclick = function(event) {
            const modal = document.getElementById('key-modal');
            if (event.target === modal) {
                closeModal();
            }
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', initializePage);
    </script>
</body>
</html>
