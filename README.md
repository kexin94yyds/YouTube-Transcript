# YouTube 转录侧边栏插件

在YouTube视频右侧显示转录文本，支持自动高亮跟随和点击跳转。

## 功能特性

- ✅ **自动获取字幕** - 自动从YouTube获取视频的真实字幕数据
- ✅ **多语言支持** - 支持中文、英文等多种语言字幕
- ✅ **实时高亮** - 视频播放时自动高亮当前对应的文本
- ✅ **点击跳转** - 点击任意字幕文本跳转到对应时间点
- ✅ **滑顺滚动** - 自动滚动跟随高亮区域
- ✅ **可收起式** - 支持收起/展开侧边栏，不影响观看体验

## 安装方法

1. 打开Chrome浏览器，输入 `chrome://extensions/`
2. 打开右上角的"开发者模式"
3. 点击"加载已解压的扩展程序"
4. 选择本项目文件夹

## 使用方法

1. 访问任意YouTube视频页面（如：https://www.youtube.com/watch?v=xxxxx）
2. 插件会自动检测并获取视频字幕，在右侧显示转录侧边栏
3. 如果视频有多种语言字幕，可在右上角的下拉菜单中选择
4. 点击右上角的"收起"按钮可以隐藏侧边栏

## 工作原理

1. **自动检测** - 插件检测到YouTube视频页面后自动激活
2. **获取字幕** - 从pageResponse中提取字幕链接，下载并解析XML数据
3. **实时同步** - 监听视频播放状态，实时更新高亮位置
4. **交互操作** - 支持点击跳转、语言切换等功能

## 支持的视频类型

- ✅ 具有自动生成字幕的视频
- ✅ 上传者手动添加的字幕
- ✅ 多语言字幕视频
- ❌ 没有字幕的视频（会显示“此视频没有可用的字幕”）

## 文件结构

- `manifest.json` - 插件配置文件
- `content.js` - 核心功能脚本
- `sidebar.css` - 侧边栏样式
- `popup.html` - 插件弹出页面
- `icon.png` - 插件图标（需自行添加）

## 注意事项

- 需要视频本身具有字幕（自动生成或手动添加）
- 支持Chrome、Edge等基于Chromium的浏览器
- 首次加载可能需要几秒钟时间来获取字幕数据
- 部分视频可能因版权限制无法获取字幕

## 故障排除

如果侧边栏没有显示或字幕加载失败：

1. 检查视频是否有字幕（点击YouTube播放器的CC按钮）
2. 刷新页面或点击侧边栏上的刷新按钮
3. 检查浏览器控制台是否有错误信息
4. 确保插件已正确安装并启用
